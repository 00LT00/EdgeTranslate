!function(e){var a={};function n(t){if(a[t])return a[t].exports;var l=a[t]={i:t,l:!1,exports:{}};return e[t].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=a,n.d=function(e,a,t){n.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,a){if(1&a&&(e=n(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var l in e)n.d(t,l,function(a){return e[a]}.bind(null,l));return t},n.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(a,"a",a),a},n.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},n.p="",n(n.s=5)}({0:function(e,a,n){"use strict";n.d(a,"b",function(){return l}),n.d(a,"a",function(){return i});const t="https://translate.google.cn/translate_a/single?client=gtx";function l(e,a){chrome.storage.sync.get("languageSetting",function(n){var l=n.languageSetting,i=t+"&sl="+l.sl+"&tl="+l.tl;chrome.storage.sync.get("DTSetting",function(n){var t=i,l=n.DTSetting,u=new XMLHttpRequest;l.forEach(e=>{t=t+"&dt="+e}),u.open("GET",t+"&q="+e,!0),u.send(),u.onreadystatechange=function(){4===u.readyState&&200===u.status?a(function(e){for(var a=new Object,n=0;n<e.length;n++)if(e[n]){var t=e[n];switch(n){case 0:var l=[],i=[];t.forEach(e=>{l.push(e[0]),i.push(e[1])}),a.mainMeaning=l.join(""),a.originalText=i.join("");break;case 1:a.detailedMeanings=new Array,t.forEach(e=>a.detailedMeanings.push({type:e[0],meaning:e[1].join(", ")}));break;case 5:if(t.length<=1){let e=new Array;t[0][2].forEach(a=>e.push(a[0])),a.commonMeanings=e.join(", ")}break;case 11:a.synonyms=new Array,t.forEach(e=>{let n=new Object;n.type=e[0],n.words=new Array,e[1].forEach(e=>n.words.push(e[0].join(", "))),a.synonyms.push(n)});break;case 12:a.definitions=new Array,t.forEach(e=>{let n=new Object;n.type=e[0],n.meanings=new Array,e[1].forEach(e=>n.meanings.push({meaning:e[0],example:e[2]})),a.definitions.push(n)});break;case 13:a.examples=new Array,t.forEach(e=>e.forEach(e=>a.examples.push(e[0])));break;case 14:a.phrases=t[0]}}return a}(JSON.parse(u.response))):200!==u.status&&alert("无法请求翻译，请检查网络连接")}})})}function i(e,a){chrome.tabs.query({active:!0,currentWindow:!0},function(n){chrome.runtime.lastError?alert(e.mainMeaning):chrome.tabs.executeScript(n[0].id,{file:"./display/display.js"},function(t){chrome.runtime.lastError?chrome.extension.isAllowedFileSchemeAccess(function(a){if(a)alert(e.mainMeaning);else if(confirm(chrome.i18n.getMessage("PermissionRemind"))){let e="chrome://extensions/?id="+chrome.runtime.id;chrome.tabs.create({url:e,index:n[0].index})}else alert(e.mainMeaning)}):e&&(chrome.tabs.sendMessage(n[0].id,e),a&&a())})})}},5:function(e,a,n){"use strict";n.r(a);var t=n(0);const l=[{name:"ChineseSimplified",value:"zh-cn"},{name:"English",value:"en"},{name:"ChineseTraditional",value:"zh-tw"},{name:"Afrikaans",value:"af"},{name:"Albanian",value:"sq"},{name:"Amharic",value:"am"},{name:"Arabic",value:"ar"},{name:"Armenian",value:"hy"},{name:"Azerbaijani",value:"az"},{name:"Basque",value:"eu"},{name:"Belarusian",value:"be"},{name:"Bengali",value:"bn"},{name:"Bosnian",value:"bs"},{name:"Bulgarian",value:"bg"},{name:"Catalan",value:"ca"},{name:"Cebuano",value:"ceb"},{name:"Chichewa",value:"ny"},{name:"Corsican",value:"co"},{name:"Croatian",value:"hr"},{name:"Czech",value:"cs"},{name:"Danish",value:"da"},{name:"Dutch",value:"nl"},{name:"Esperanto",value:"eo"},{name:"Estonian",value:"et"},{name:"Filipino",value:"tl"},{name:"Finnish",value:"fi"},{name:"French",value:"fr"},{name:"Frisian",value:"fy"},{name:"Galician",value:"gl"},{name:"Georgian",value:"ka"},{name:"German",value:"de"},{name:"Greek",value:"el"},{name:"Gujarati",value:"gu"},{name:"HaitianCreole",value:"ht"},{name:"Hausa",value:"ha"},{name:"Hawaiian",value:"haw"},{name:"Hebrew",value:"iw"},{name:"Hindi",value:"hi"},{name:"Hmong",value:"hmn"},{name:"Hungarian",value:"hu"},{name:"Icelandic",value:"is"},{name:"Igbo",value:"ig"},{name:"Indonesian",value:"id"},{name:"Irish",value:"ga"},{name:"Italian",value:"it"},{name:"Japanese",value:"ja"},{name:"Javanese",value:"jw"},{name:"Kannada",value:"kn"},{name:"Kazakh",value:"kk"},{name:"Khmer",value:"km"},{name:"Korean",value:"ko"},{name:"Kurdish",value:"ku"},{name:"Kyrgyz",value:"ky"},{name:"Lao",value:"lo"},{name:"Latin",value:"la"},{name:"Latvian",value:"lv"},{name:"Lithuanian",value:"lt"},{name:"Luxembourgish",value:"lb"},{name:"Macedonian",value:"mk"},{name:"Malagasy",value:"mg"},{name:"Malay",value:"ms"},{name:"Malayalam",value:"ml"},{name:"Maltese",value:"mt"},{name:"Maori",value:"mi"},{name:"Marathi",value:"mr"},{name:"Mongolian",value:"mn"},{name:"Myanmar",value:"my"},{name:"Nepali",value:"ne"},{name:"Norwegian",value:"no"},{name:"Pashto",value:"ps"},{name:"Persian",value:"fa"},{name:"Polish",value:"pl"},{name:"Portuguese",value:"pt"},{name:"Punjabi",value:"ma"},{name:"Romanian",value:"ro"},{name:"Russian",value:"ru"},{name:"Samoan",value:"sm"},{name:"ScotsGaelic",value:"gd"},{name:"Serbian",value:"sr"},{name:"Sesotho",value:"st"},{name:"Shona",value:"sn"},{name:"Sindhi",value:"sd"},{name:"Sinhala",value:"si"},{name:"Slovak",value:"sk"},{name:"Slovenian",value:"sl"},{name:"Somali",value:"so"},{name:"Spanish",value:"es"},{name:"Sundanese",value:"su"},{name:"Swahili",value:"sw"},{name:"Swedish",value:"sv"},{name:"Tajik",value:"tg"},{name:"Tamil",value:"ta"},{name:"Telugu",value:"te"},{name:"Thai",value:"th"},{name:"Turkish",value:"tr"},{name:"Ukrainian",value:"uk"},{name:"Urdu",value:"ur"},{name:"Uzbek",value:"uz"},{name:"Vietnamese",value:"vi"},{name:"Welsh",value:"cy"},{name:"Xhosa",value:"xh"},{name:"Yiddish",value:"yi"},{name:"Yoruba",value:"yo"},{name:"Zulu",value:"zu"}];function i(e,a){!function(e,a){var n={};n[e]=a,chrome.storage.sync.set(n)}("languageSetting",{sl:e,tl:a})}function u(){var e=document.getElementById("translate_input").value;if(""!==e.replace(/\s*/,"")){document.getElementById("hint_message").style.display="none";Object(t.b)(e,function(e){Object(t.a)(e,function(){window.close()})})}else document.getElementById("hint_message").style.display="inline"}function o(){var e=document.getElementById("setting"),a=document.getElementById("arrow-up"),n=document.getElementById("arrow-down");e.style.display&&"none"!=e.style.display?(e.style.display="none",n.style.display="inline",a.style.display="none"):(e.style.display="block",n.style.display="none",a.style.display="inline")}function r(e){"13"==(e.charCode||e.keyCode)&&u()}window.onload=function(){var e=document.getElementsByClassName("i18n");for(let a=0;a<e.length;a++)e[a].insertAdjacentText("beforeEnd",chrome.i18n.getMessage(e[a].getAttribute("data-i18n-name")));chrome.storage.sync.get("languageSetting",function(e){var n=e.languageSetting,t=document.getElementById("sl"),u=document.getElementById("tl"),o=document.getElementById("exchange");o.onclick=function(){if("auto"!==t.value){let e=u.value;u.value=t.value,t.value=e,i(t.value,u.value)}},l.forEach(e=>{let a=e.value,l=chrome.i18n.getMessage(e.name);n&&a==n.sl?t.options.add(new Option(l,a,!0,!0)):t.options.add(new Option(l,a)),n&&a==n.tl?u.options.add(new Option(l,a,!0,!0)):u.options.add(new Option(l,a))}),a(o,t),t.onchange=function(){a(o,t),i(t.options[t.selectedIndex].value,u.options[u.selectedIndex].value)},u.onchange=function(){i(t.options[t.selectedIndex].value,u.options[u.selectedIndex].value)}});var a=function(e,a){"auto"===a.value?e.style.color="gray":e.style.color="#4a8cf7"};document.getElementById("translateSubmit").addEventListener("click",u),document.addEventListener("keypress",r),document.getElementById("setting-switch").addEventListener("click",o)}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RyYW5zbGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcG9wdXAvbGFuZ3VhZ2VzLmpzIiwid2VicGFjazovLy8uL3NyYy9wb3B1cC9wb3B1cC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkJBU0VfVVJMIiwidHJhbnNsYXRlIiwidGV4dCIsImNhbGxiYWNrIiwiY2hyb21lIiwic3RvcmFnZSIsInN5bmMiLCJyZXN1bHQiLCJsYW5ndWFnZVNldHRpbmciLCJ0bXBVcmwiLCJzbCIsInRsIiwidXJsIiwiRFRTZXR0aW5nIiwicmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0IiwiZm9yRWFjaCIsImVsZW1lbnQiLCJvcGVuIiwic2VuZCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJyZXNwb25zZSIsImxlbmd0aCIsIml0ZW1zIiwibWFpbk1lYW5pbmdzIiwib3JpZ2luYWxUZXh0cyIsIml0ZW0iLCJwdXNoIiwibWFpbk1lYW5pbmciLCJqb2luIiwib3JpZ2luYWxUZXh0IiwiZGV0YWlsZWRNZWFuaW5ncyIsIkFycmF5IiwidHlwZSIsIm1lYW5pbmciLCJtZWFuaW5nQXJyYXkiLCJjb21tb25NZWFuaW5ncyIsInN5bm9ueW1zIiwid29yZHMiLCJkZWZpbml0aW9ucyIsImRlZmluaXRpb24iLCJtZWFuaW5ncyIsImV4YW1wbGUiLCJleGFtcGxlcyIsInBocmFzZXMiLCJwYXJzZVRyYW5zbGF0ZSIsIkpTT04iLCJwYXJzZSIsImFsZXJ0Iiwic2hvd1RyYW5zbGF0ZSIsImNvbnRlbnQiLCJ0YWJzIiwicXVlcnkiLCJhY3RpdmUiLCJjdXJyZW50V2luZG93IiwicnVudGltZSIsImxhc3RFcnJvciIsImV4ZWN1dGVTY3JpcHQiLCJpZCIsImZpbGUiLCJ0YWIiLCJleHRlbnNpb24iLCJpc0FsbG93ZWRGaWxlU2NoZW1lQWNjZXNzIiwiaXNBbGxvd2VkQWNjZXNzIiwiY29uZmlybSIsImkxOG4iLCJnZXRNZXNzYWdlIiwiaW5kZXgiLCJzZW5kTWVzc2FnZSIsIkxBTkdVQUdFUyIsInVwZGF0ZUxhbmd1YWdlU2V0dGluZyIsInNvdXJjZUxhbmd1YWdlIiwidGFyZ2V0TGFuZ3VhZ2UiLCJzZXQiLCJzYXZlT3B0aW9uIiwidHJhbnNsYXRlU3VibWl0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInJlcGxhY2UiLCJzdHlsZSIsImRpc3BsYXkiLCJ3aW5kb3ciLCJjbG9zZSIsInNldHRpbmdTd2l0Y2giLCJzZXR0aW5nIiwiYXJyb3dVcCIsImFycm93RG93biIsInRyYW5zbGF0ZVByZVN1Ym1pdCIsImV2ZW50IiwiY2hhckNvZGUiLCJrZXlDb2RlIiwib25sb2FkIiwiaTE4bkVsZW13bnRzIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImluc2VydEFkamFjZW50VGV4dCIsImdldEF0dHJpYnV0ZSIsImV4Y2hhbmdlQnV0dG9uIiwib25jbGljayIsInRlbXBWYWx1ZSIsIm9wdGlvbnMiLCJhZGQiLCJPcHRpb24iLCJqdWRnZVZhbHVlIiwib25jaGFuZ2UiLCJzZWxlY3RlZEluZGV4IiwiY29sb3IiLCJhZGRFdmVudExpc3RlbmVyIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVB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TUFBQSxPQUNBVixLQUFBLFlBQUFVLE1BQUEsT0FDQVYsS0FBQSxXQUFBVSxNQUFBLE9BQ0FWLEtBQUEsV0FBQVUsTUFBQSxPQUNBVixLQUFBLFVBQUFVLE1BQUEsT0FDQVYsS0FBQSxTQUFBVSxNQUFBLE9BQ0FWLEtBQUEsVUFBQVUsTUFBQSxPQUNBVixLQUFBLFdBQUFVLE1BQUEsT0FDQVYsS0FBQSxXQUFBVSxNQUFBLE9BQ0FWLEtBQUEsU0FBQVUsTUFBQSxPQUNBVixLQUFBLFFBQUFVLE1BQUEsT0FDQVYsS0FBQSxXQUFBVSxNQUFBLE9BQ0FWLEtBQUEsZ0JBQUFVLE1BQUEsT0FDQVYsS0FBQSxRQUFBVSxNQUFBLE9BQ0FWLEtBQUEsV0FBQVUsTUFBQSxRQUNBVixLQUFBLFNBQUFVLE1BQUEsT0FDQVYsS0FBQSxRQUFBVSxNQUFBLE9BQ0FWLEtBQUEsUUFBQVUsTUFBQSxRQUNBVixLQUFBLFlBQUFVLE1BQUEsT0FDQVYsS0FBQSxZQUFBVSxNQUFBLE9BQ0FWLEtBQUEsT0FBQVUsTUFBQSxPQUNBVixLQUFBLGFBQUFVLE1BQUEsT0FDQVYsS0FBQSxRQUFBVSxNQUFBLE9BQ0FWLEtBQUEsVUFBQVUsTUFBQSxPQUNBVixLQUFBLFdBQUFVLE1BQUEsT0FDQVYsS0FBQSxXQUFBVSxNQUFBLE9BQ0FWLEtBQUEsVUFBQVUsTUFBQSxPQUNBVixLQUFBLFNBQUFVLE1BQUEsT0FDQVYsS0FBQSxRQUFBVSxNQUFBLE9BQ0FWLEtBQUEsU0FBQVUsTUFBQSxPQUNBVixLQUFBLFVBQUFVLE1BQUEsT0FDQVYsS0FBQSxTQUFBVSxNQUFBLE9BQ0FWLEtBQUEsTUFBQVUsTUFBQSxPQUNBVixLQUFBLFFBQUFVLE1BQUEsT0FDQVYsS0FBQSxVQUFBVSxNQUFBLE9BQ0FWLEtBQUEsYUFBQVUsTUFBQSxPQUNBVixLQUFBLGdCQUFBVSxNQUFBLE9BQ0FWLEtBQUEsYUFBQVUsTUFBQSxPQUNBVixLQUFBLFdBQUFVLE1BQUEsT0FDQVYsS0FBQSxRQUFBVSxNQUFBLE9BQ0FWLEtBQUEsWUFBQVUsTUFBQSxPQUNBVixLQUFBLFVBQUFVLE1BQUEsT0FDQVYsS0FBQSxRQUFBVSxNQUFBLE9BQ0FWLEtBQUEsVUFBQVUsTUFBQSxPQUNBVixLQUFBLFlBQUFVLE1BQUEsT0FDQVYsS0FBQSxVQUFBVSxNQUFBLE9BQ0FWLEtBQUEsU0FBQVUsTUFBQSxPQUNBVixLQUFBLFlBQUFVLE1BQUEsT0FDQVYsS0FBQSxTQUFBVSxNQUFBLE9BQ0FWLEtBQUEsVUFBQVUsTUFBQSxPQUNBVixLQUFBLFNBQUFVLE1BQUEsT0FDQVYsS0FBQSxhQUFBVSxNQUFBLE9BQ0FWLEtBQUEsVUFBQVUsTUFBQSxPQUNBVixLQUFBLFdBQUFVLE1BQUEsT0FDQVYsS0FBQSxVQUFBVSxNQUFBLE9BQ0FWLEtBQUEsU0FBQVUsTUFBQSxPQUNBVixLQUFBLGNBQUFVLE1BQUEsT0FDQVYsS0FBQSxVQUFBVSxNQUFBLE9BQ0FWLEtBQUEsVUFBQVUsTUFBQSxPQUNBVixLQUFBLFFBQUFVLE1BQUEsT0FDQVYsS0FBQSxTQUFBVSxNQUFBLE9BQ0FWLEtBQUEsVUFBQVUsTUFBQSxPQUNBVixLQUFBLFNBQUFVLE1BQUEsT0FDQVYsS0FBQSxZQUFBVSxNQUFBLE9BQ0FWLEtBQUEsU0FBQVUsTUFBQSxPQUNBVixLQUFBLFVBQUFVLE1BQUEsT0FDQVYsS0FBQSxZQUFBVSxNQUFBLE9BQ0FWLEtBQUEsVUFBQVUsTUFBQSxPQUNBVixLQUFBLFVBQUFVLE1BQUEsT0FDQVYsS0FBQSxRQUFBVSxNQUFBLE9BQ0FWLEtBQUEsUUFBQVUsTUFBQSxPQUNBVixLQUFBLFNBQUFVLE1BQUEsT0FDQVYsS0FBQSxPQUFBVSxNQUFBLE9BQ0FWLEtBQUEsVUFBQVUsTUFBQSxPQUNBVixLQUFBLFlBQUFVLE1BQUEsT0FDQVYsS0FBQSxPQUFBVSxNQUFBLE9BQ0FWLEtBQUEsUUFBQVUsTUFBQSxPQUNBVixLQUFBLGFBQUFVLE1BQUEsT0FDQVYsS0FBQSxRQUFBVSxNQUFBLE9BQ0FWLEtBQUEsUUFBQVUsTUFBQSxPQUNBVixLQUFBLFVBQUFVLE1BQUEsT0FDQVYsS0FBQSxTQUFBVSxNQUFBLE9BQ0FWLEtBQUEs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T0FFQVQsRUFBQWpCLE1BQUEwQixNQUFBLFdBaUNBN0IsU0FBQUMsZUFBQSxtQkFBQTZCLGlCQUFBLFFBQUEvQixHQUNBQyxTQUFBOEIsaUJBQUEsV0FBQW5CLEdBQ0FYLFNBQUFDLGVBQUEsa0JBQUE2QixpQkFBQSxRQUFBdkIiLCJmaWxlIjoiL3BvcHVwL3BvcHVwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDUpO1xuIiwiZXhwb3J0IHsgdHJhbnNsYXRlLCBzaG93VHJhbnNsYXRlIH07XHJcbi8qKlxyXG4gKiDnv7vor5HmjqXlj6PjgIJcclxuICovXHJcbmNvbnN0IEJBU0VfVVJMID0gXCJodHRwczovL3RyYW5zbGF0ZS5nb29nbGUuY24vdHJhbnNsYXRlX2Evc2luZ2xlP2NsaWVudD1ndHhcIjtcclxuXHJcbi8qKlxyXG4gKiBcclxuICog5q2k5Ye95pWw6LSf6LSj5bCG5Lyg5YWl55qE5paH5pys57+76K+R77yM5bm25Zyo5b2T5YmN6aG16Z2i55qE5L6n6L655qCP5Lit5bGV56S6XHJcbiAqIFxyXG4gKiBAcGFyYW0ge1N0cmluZ30gdGV4dCDpnIDopoHnv7vor5HnmoTmlofmnKzlrZfnrKbkuLJcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sg5a6M5oiQ57+76K+R5ZCO55So5Lul6I635Y+W57+76K+R57uT5p6cXHJcbiAqL1xyXG5mdW5jdGlvbiB0cmFuc2xhdGUodGV4dCwgY2FsbGJhY2spIHtcclxuXHJcbiAgICAvLyDojrflj5bnv7vor5Hor63oqIDorr7lrprjgIJcclxuICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KFwibGFuZ3VhZ2VTZXR0aW5nXCIsIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICB2YXIgbGFuZ3VhZ2VTZXR0aW5nID0gcmVzdWx0Lmxhbmd1YWdlU2V0dGluZztcclxuICAgICAgICB2YXIgdG1wVXJsID0gQkFTRV9VUkwgKyBcIiZzbD1cIiArIGxhbmd1YWdlU2V0dGluZy5zbCArIFwiJnRsPVwiICsgbGFuZ3VhZ2VTZXR0aW5nLnRsO1xyXG5cclxuICAgICAgICAvLyDojrflj5bnv7vor5Hlj4LmlbDorr7lrprjgIJcclxuICAgICAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLmdldChcIkRUU2V0dGluZ1wiLCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIHZhciB1cmwgPSB0bXBVcmw7XHJcbiAgICAgICAgICAgIHZhciBEVFNldHRpbmcgPSByZXN1bHQuRFRTZXR0aW5nO1xyXG4gICAgICAgICAgICB2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cclxuICAgICAgICAgICAgRFRTZXR0aW5nLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICB1cmwgPSB1cmwgKyBcIiZkdD1cIiArIGVsZW1lbnQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmVxdWVzdC5vcGVuKFwiR0VUXCIsIHVybCArIFwiJnE9XCIgKyB0ZXh0LCB0cnVlKTtcclxuICAgICAgICAgICAgcmVxdWVzdC5zZW5kKCk7XHJcbiAgICAgICAgICAgIHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcXVlc3QucmVhZHlTdGF0ZSA9PT0gNCAmJiByZXF1ZXN0LnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socGFyc2VUcmFuc2xhdGUoSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlKSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocmVxdWVzdC5zdGF0dXMgIT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfml6Dms5Xor7fmsYLnv7vor5HvvIzor7fmo4Dmn6XnvZHnu5zov57mjqUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG4vKipcclxuICogPHA+6Kej5p6Q6LC35q2M57+76K+R6L+U5Zue55qE57uT5p6c44CC6Kej5p6Q57uT5p6c57uT5p6E5aaC5LiL77yaPC9wPlxyXG4gKiBcclxuICogPHByZT5cclxuICogICAgIHJlc3VsdCA9IHtcclxuICogICAgICAgICBcIm1haW5NZWFuaW5nXCI6IDzlrZfnrKbkuLLvvIzljZXor43nmoTkuLvopoHmhI/mgJ3vvIzlj6XlrZDnmoTmnIDlj6/og73nmoTmhI/mgJ0+LFxyXG4gKiAgICAgICAgIFwib3JpZ2luYWxUZXh0XCI6IDzlrZfnrKbkuLLvvIzooqvnv7vor5HnmoTljZXor43miJblj6XlrZA+LFxyXG4gKiAgICAgICAgIFwiZGV0YWlsZWRNZWFuaW5nc1wiOiBbXHJcbiAqICAgICAgICAgICAgIHtcclxuICogICAgICAgICAgICAgICAgIFwidHlwZVwiOiA85a2X56ym5Liy77yM5Y2V6K+N55qE6K+N5oCnPixcclxuICogICAgICAgICAgICAgICAgIFwibWVhbmluZ1wiOiA85a2X56ym5Liy77yM5Y2V6K+N5Zyo6K+l6K+N5oCn5LiL55qE5omA5pyJ5oSP5oCdPlxyXG4gKiAgICAgICAgICAgICB9XHJcbiAqICAgICAgICAgXSxcclxuICogICAgICAgICBcImNvbW1vbk1lYW5pbmdzXCI6IDzlrZfnrKbkuLLvvIzljZXor43nmoTluLjop4HmhI/mgJ3vvIzlj6XlrZDnmoTmiYDmnInlj6/og73mhI/mgJ0+LFxyXG4gKiAgICAgICAgIFwic3lub255bXNcIjogW1xyXG4gKiAgICAgICAgICAgICB7XHJcbiAqICAgICAgICAgICAgICAgICBcInR5cGVcIjogPOWtl+espuS4su+8jOWNleivjeeahOivjeaApz4sXHJcbiAqICAgICAgICAgICAgICAgICBcIndvcmRzXCI6IFtcclxuICogICAgICAgICAgICAgICAgICAgICA85a2X56ym5Liy77yM5Y2V6K+N5Zyo6K+l6K+N5oCn5LiL55qE6L+R5LmJ6K+N77yM5qC55o2u5oSP5oCd5YiG57uEPlxyXG4gKiAgICAgICAgICAgICAgICAgXVxyXG4gKiAgICAgICAgICAgICB9XHJcbiAqICAgICAgICAgXSxcclxuICogICAgICAgICBcImRlZmluaXRpb25zXCI6IFtcclxuICogICAgICAgICAgICAge1xyXG4gKiAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IDzlrZfnrKbkuLLvvIzljZXor43nmoTor43mgKc+LFxyXG4gKiAgICAgICAgICAgICAgICAgXCJtZWFuaW5nc1wiOiBbXHJcbiAqICAgICAgICAgICAgICAgICAgICAge1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICBcIm1lYW5pbmdcIjogPOWtl+espuS4su+8jOWNleivjeeahOaEj+aAne+8iOiLseaWh+ino+mHiu+8iT4sXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIFwiZXhhbXBsZVwiOiA85a2X56ym5Liy77yM5L6L5Y+lPlxyXG4gKiAgICAgICAgICAgICAgICAgICAgIH1cclxuICogICAgICAgICAgICAgICAgIF1cclxuICogICAgICAgICAgICAgfVxyXG4gKiAgICAgICAgIF0sXHJcbiAqICAgICAgICAgXCJleGFtcGxlc1wiOiBbXHJcbiAqICAgICAgICAgICAgIDzlrZfnrKbkuLLvvIzljZXor43nmoTkvovlj6U+XHJcbiAqICAgICAgICAgXSxcclxuICogICAgICAgICBcInBocmFzZXNcIjogW1xyXG4gKiAgICAgICAgICAgICA85a2X56ym5Liy77yM5Y2V6K+N5p6E5oiQ55qE55+t6K+tPlxyXG4gKiAgICAgICAgIF1cclxuICogICAgIH1cclxuICogPC9wcmU+XHJcbiAqIFxyXG4gKiBAcGFyYW0ge09iamVjdH0gcmVzcG9uc2Ug6LC35q2M57+76K+R6L+U5Zue55qE57uT5p6c44CCXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IOaMieeFp3NwZWPkuK3nmoTmlbDmja7nu5PmnoTlrZjlgqjnmoTnu5PmnpxcclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlVHJhbnNsYXRlKHJlc3BvbnNlKSB7XHJcbiAgICB2YXIgcmVzdWx0ID0gbmV3IE9iamVjdCgpO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNwb25zZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChyZXNwb25zZVtpXSkge1xyXG4gICAgICAgICAgICB2YXIgaXRlbXMgPSByZXNwb25zZVtpXTtcclxuICAgICAgICAgICAgc3dpdGNoIChpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyDljZXor43nmoTln7rmnKzmhI/mgJ1cclxuICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWFpbk1lYW5pbmdzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdpbmFsVGV4dHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWluTWVhbmluZ3MucHVzaChpdGVtWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxUZXh0cy5wdXNoKGl0ZW1bMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5tYWluTWVhbmluZyA9IG1haW5NZWFuaW5ncy5qb2luKCcnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQub3JpZ2luYWxUZXh0ID0gb3JpZ2luYWxUZXh0cy5qb2luKCcnKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcInRleHQ6IFwiICsgcmVzdWx0Lm9yaWdpbmFsVGV4dCArIFwiXFxubWVhbmluZzogXCIgKyByZXN1bHQubWFpbk1lYW5pbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgLy8g5Y2V6K+N55qE5omA5pyJ6K+N5oCn5Y+K5a+55bqU55qE5oSP5oCdXHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRldGFpbGVkTWVhbmluZ3MgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRldGFpbGVkTWVhbmluZ3MucHVzaCh7IFwidHlwZVwiOiBpdGVtWzBdLCBcIm1lYW5pbmdcIjogaXRlbVsxXS5qb2luKFwiLCBcIikgfSlcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZGV0YWlsZWRNZWFuaW5nczogXCIgKyBKU09OLnN0cmluZ2lmeShyZXN1bHQuZGV0YWlsZWRNZWFuaW5ncykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgLy8g5Y2V6K+N5oiW5Y+l5a2Q55qE5bi46KeB5oSP5oCd77yI5Y2V6K+N55qE5bi46KeB5oSP5oCd77yM5Y+l5a2Q55qE5omA5pyJ5Y+v6IO95oSP5oCd77yJXHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA8PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtZWFuaW5nQXJyYXkgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXNbMF1bMl0uZm9yRWFjaChpdGVtID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZWFuaW5nQXJyYXkucHVzaChpdGVtWzBdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuY29tbW9uTWVhbmluZ3MgPSBtZWFuaW5nQXJyYXkuam9pbihcIiwgXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImNvbW1vbk1lYW5pbmdzOiBcIiArIHJlc3VsdC5jb21tb25NZWFuaW5ncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgLy8g5Y2V6K+N55qE5ZCM5LmJ6K+N77yM5qC55o2u6K+N5oCn5YiG57uEXHJcbiAgICAgICAgICAgICAgICBjYXNlIDExOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zeW5vbnltcyA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbGVtZW50ID0gbmV3IE9iamVjdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnR5cGUgPSBpdGVtWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LndvcmRzID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1bMV0uZm9yRWFjaCh3b3JkcyA9PiBlbGVtZW50LndvcmRzLnB1c2god29yZHNbMF0uam9pbihcIiwgXCIpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zeW5vbnltcy5wdXNoKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwic3lub255bXM6IFwiICsgSlNPTi5zdHJpbmdpZnkocmVzdWx0LnN5bm9ueW1zKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAvLyDljZXor43nmoTlrprkuYnlj4rlr7nlupTkvovlrZBcclxuICAgICAgICAgICAgICAgIGNhc2UgMTI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRlZmluaXRpb25zID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRlZmluaXRpb24gPSBuZXcgT2JqZWN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb24udHlwZSA9IGl0ZW1bMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb24ubWVhbmluZ3MgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbVsxXS5mb3JFYWNoKGVsZW1lbnQgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb24ubWVhbmluZ3MucHVzaCh7IFwibWVhbmluZ1wiOiBlbGVtZW50WzBdLCBcImV4YW1wbGVcIjogZWxlbWVudFsyXSB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuZGVmaW5pdGlvbnMucHVzaChkZWZpbml0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImRlZmluaXRpb25zOiBcIiArIEpTT04uc3RyaW5naWZ5KHJlc3VsdC5kZWZpbml0aW9ucykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgLy8g5Y2V6K+N55qE5L6L5Y+lXHJcbiAgICAgICAgICAgICAgICBjYXNlIDEzOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5leGFtcGxlcyA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmZvckVhY2goZWxlbWVudCA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmV4YW1wbGVzLnB1c2goZWxlbWVudFswXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJleGFtcGxlczogXCIgKyBKU09OLnN0cmluZ2lmeShyZXN1bHQuZXhhbXBsZXMpKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIC8vIOWNleivjeaehOaIkOeahOW4uOingeefreivrVxyXG4gICAgICAgICAgICAgICAgY2FzZSAxNDpcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucGhyYXNlcyA9IGl0ZW1zWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwicGhyYXNlczogXCIgKyBKU09OLnN0cmluZ2lmeShyZXN1bHQucGhyYXNlcykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlsZXnpLrnv7vor5Hnu5PmnpzjgIJcclxuICogXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZW50IOe/u+ivkee7k+aenOOAglxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayDlsZXnpLrlrozpobXpnaLlkI7miafooYznmoTlm57osIPlh73mlbBcclxuICovXHJcbmZ1bmN0aW9uIHNob3dUcmFuc2xhdGUoY29udGVudCwgY2FsbGJhY2spIHtcclxuICAgIGNocm9tZS50YWJzLnF1ZXJ5KHsgYWN0aXZlOiB0cnVlLCBjdXJyZW50V2luZG93OiB0cnVlIH0sIGZ1bmN0aW9uICh0YWJzKSB7XHJcbiAgICAgICAgaWYgKGNocm9tZS5ydW50aW1lLmxhc3RFcnJvcilcclxuICAgICAgICAgICAgYWxlcnQoY29udGVudC5tYWluTWVhbmluZyk7XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNocm9tZS50YWJzLmV4ZWN1dGVTY3JpcHQodGFic1swXS5pZCwge1xyXG4gICAgICAgICAgICAgICAgZmlsZTogJy4vZGlzcGxheS9kaXNwbGF5LmpzJ1xyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAodGFiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yKSB7IC8vIGNvbnRlbnRfc2NyaXB05peg5rOV5Zyo5b2T5YmN56qX5Y+j5omn6KGMXHJcbiAgICAgICAgICAgICAgICAgICAgLy8g6L+Z6YeM6K+i6Zeu5piv5ZCm5byA5ZCv5LqG6K6/6ZeuIGZpbGU6Ly8g572R5Z2A55qE5p2D6ZmQXHJcbiAgICAgICAgICAgICAgICAgICAgY2hyb21lLmV4dGVuc2lvbi5pc0FsbG93ZWRGaWxlU2NoZW1lQWNjZXNzKGZ1bmN0aW9uIChpc0FsbG93ZWRBY2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQWxsb3dlZEFjY2VzcykgeyAvLyDlpoLmnpzlvIDlkK/kuobmnYPpmZDvvIzliJnlj6rog73pgJrov4dhbGVydOWxleekuue7k+aenFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoY29udGVudC5tYWluTWVhbmluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIOacquW8gOWQr+adg+mZkO+8jOWImemAmui/h+i/meenjeaWueW8j+Wxleekuuadg+mZkFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm0oY2hyb21lLmkxOG4uZ2V0TWVzc2FnZShcIlBlcm1pc3Npb25SZW1pbmRcIikpKSB7IC8vIOaJk+W8gOeuoeeQhumhtemdou+8jOeUseeUqOaIt+W8gOWQr+adg+mZkFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1cmwgPSAnY2hyb21lOi8vZXh0ZW5zaW9ucy8/aWQ9JyArIGNocm9tZS5ydW50aW1lLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNocm9tZS50YWJzLmNyZWF0ZSh7IC8vIOS4uueuoeeQhumhtemdouWIm+W7uuS4gOS4quaWsOeahOagh+etvlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IHRhYnNbMF0uaW5kZXhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8g55So5oi35ouS57ud5byA5ZCv77yM5YiZ55u05o6l5bGV56S657+76K+R57uT5p6cXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoY29udGVudC5tYWluTWVhbmluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDpgJrov4fltYzlpZfmt7vliqDlpJrkuKpjb250ZW50IHNjcmlwdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaHJvbWUudGFicy5zZW5kTWVzc2FnZSh0YWJzWzBdLmlkLCBjb250ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSAvLyDlvZPnv7vor5Hnu5PmnpzlsZXnpLrlrozlkI7vvIzmiafooYzmraTlm57osIPlh73mlbBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuIiwiZXhwb3J0IHsgTEFOR1VBR0VTIH07XHJcbi8qKlxyXG4gKiDmlK/mjIHnmoTor63oqIDliJfooahcclxuICovXHJcbmNvbnN0IExBTkdVQUdFUyA9IFtcclxuICAgIHsgXCJuYW1lXCI6IFwiQ2hpbmVzZVNpbXBsaWZpZWRcIiwgXCJ2YWx1ZVwiOiBcInpoLWNuXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiRW5nbGlzaFwiLCBcInZhbHVlXCI6IFwiZW5cIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJDaGluZXNlVHJhZGl0aW9uYWxcIiwgXCJ2YWx1ZVwiOiBcInpoLXR3XCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiQWZyaWthYW5zXCIsIFwidmFsdWVcIjogXCJhZlwiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIkFsYmFuaWFuXCIsIFwidmFsdWVcIjogXCJzcVwiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIkFtaGFyaWNcIiwgXCJ2YWx1ZVwiOiBcImFtXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiQXJhYmljXCIsIFwidmFsdWVcIjogXCJhclwiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIkFybWVuaWFuXCIsIFwidmFsdWVcIjogXCJoeVwiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIkF6ZXJiYWlqYW5pXCIsIFwidmFsdWVcIjogXCJhelwiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIkJhc3F1ZVwiLCBcInZhbHVlXCI6IFwiZXVcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJCZWxhcnVzaWFuXCIsIFwidmFsdWVcIjogXCJiZVwiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIkJlbmdhbGlcIiwgXCJ2YWx1ZVwiOiBcImJuXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiQm9zbmlhblwiLCBcInZhbHVlXCI6IFwiYnNcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJCdWxnYXJpYW5cIiwgXCJ2YWx1ZVwiOiBcImJnXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiQ2F0YWxhblwiLCBcInZhbHVlXCI6IFwiY2FcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJDZWJ1YW5vXCIsIFwidmFsdWVcIjogXCJjZWJcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJDaGljaGV3YVwiLCBcInZhbHVlXCI6IFwibnlcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJDb3JzaWNhblwiLCBcInZhbHVlXCI6IFwiY29cIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJDcm9hdGlhblwiLCBcInZhbHVlXCI6IFwiaHJcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJDemVjaFwiLCBcInZhbHVlXCI6IFwiY3NcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJEYW5pc2hcIiwgXCJ2YWx1ZVwiOiBcImRhXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiRHV0Y2hcIiwgXCJ2YWx1ZVwiOiBcIm5sXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiRXNwZXJhbnRvXCIsIFwidmFsdWVcIjogXCJlb1wiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIkVzdG9uaWFuXCIsIFwidmFsdWVcIjogXCJldFwiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIkZpbGlwaW5vXCIsIFwidmFsdWVcIjogXCJ0bFwiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIkZpbm5pc2hcIiwgXCJ2YWx1ZVwiOiBcImZpXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiRnJlbmNoXCIsIFwidmFsdWVcIjogXCJmclwiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIkZyaXNpYW5cIiwgXCJ2YWx1ZVwiOiBcImZ5XCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiR2FsaWNpYW5cIiwgXCJ2YWx1ZVwiOiBcImdsXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiR2VvcmdpYW5cIiwgXCJ2YWx1ZVwiOiBcImthXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiR2VybWFuXCIsIFwidmFsdWVcIjogXCJkZVwiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIkdyZWVrXCIsIFwidmFsdWVcIjogXCJlbFwiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIkd1amFyYXRpXCIsIFwidmFsdWVcIjogXCJndVwiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIkhhaXRpYW5DcmVvbGVcIiwgXCJ2YWx1ZVwiOiBcImh0XCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiSGF1c2FcIiwgXCJ2YWx1ZVwiOiBcImhhXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiSGF3YWlpYW5cIiwgXCJ2YWx1ZVwiOiBcImhhd1wiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIkhlYnJld1wiLCBcInZhbHVlXCI6IFwiaXdcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJIaW5kaVwiLCBcInZhbHVlXCI6IFwiaGlcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJIbW9uZ1wiLCBcInZhbHVlXCI6IFwiaG1uXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiSHVuZ2FyaWFuXCIsIFwidmFsdWVcIjogXCJodVwiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIkljZWxhbmRpY1wiLCBcInZhbHVlXCI6IFwiaXNcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJJZ2JvXCIsIFwidmFsdWVcIjogXCJpZ1wiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIkluZG9uZXNpYW5cIiwgXCJ2YWx1ZVwiOiBcImlkXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiSXJpc2hcIiwgXCJ2YWx1ZVwiOiBcImdhXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiSXRhbGlhblwiLCBcInZhbHVlXCI6IFwiaXRcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJKYXBhbmVzZVwiLCBcInZhbHVlXCI6IFwiamFcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJKYXZhbmVzZVwiLCBcInZhbHVlXCI6IFwiandcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJLYW5uYWRhXCIsIFwidmFsdWVcIjogXCJrblwiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIkthemFraFwiLCBcInZhbHVlXCI6IFwia2tcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJLaG1lclwiLCBcInZhbHVlXCI6IFwia21cIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJLb3JlYW5cIiwgXCJ2YWx1ZVwiOiBcImtvXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiS3VyZGlzaFwiLCBcInZhbHVlXCI6IFwia3VcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJLeXJneXpcIiwgXCJ2YWx1ZVwiOiBcImt5XCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiTGFvXCIsIFwidmFsdWVcIjogXCJsb1wiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIkxhdGluXCIsIFwidmFsdWVcIjogXCJsYVwiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIkxhdHZpYW5cIiwgXCJ2YWx1ZVwiOiBcImx2XCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiTGl0aHVhbmlhblwiLCBcInZhbHVlXCI6IFwibHRcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJMdXhlbWJvdXJnaXNoXCIsIFwidmFsdWVcIjogXCJsYlwiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIk1hY2Vkb25pYW5cIiwgXCJ2YWx1ZVwiOiBcIm1rXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiTWFsYWdhc3lcIiwgXCJ2YWx1ZVwiOiBcIm1nXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiTWFsYXlcIiwgXCJ2YWx1ZVwiOiBcIm1zXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiTWFsYXlhbGFtXCIsIFwidmFsdWVcIjogXCJtbFwiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIk1hbHRlc2VcIiwgXCJ2YWx1ZVwiOiBcIm10XCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiTWFvcmlcIiwgXCJ2YWx1ZVwiOiBcIm1pXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiTWFyYXRoaVwiLCBcInZhbHVlXCI6IFwibXJcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJNb25nb2xpYW5cIiwgXCJ2YWx1ZVwiOiBcIm1uXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiTXlhbm1hclwiLCBcInZhbHVlXCI6IFwibXlcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJOZXBhbGlcIiwgXCJ2YWx1ZVwiOiBcIm5lXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiTm9yd2VnaWFuXCIsIFwidmFsdWVcIjogXCJub1wiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIlBhc2h0b1wiLCBcInZhbHVlXCI6IFwicHNcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJQZXJzaWFuXCIsIFwidmFsdWVcIjogXCJmYVwiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIlBvbGlzaFwiLCBcInZhbHVlXCI6IFwicGxcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJQb3J0dWd1ZXNlXCIsIFwidmFsdWVcIjogXCJwdFwiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIlB1bmphYmlcIiwgXCJ2YWx1ZVwiOiBcIm1hXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiUm9tYW5pYW5cIiwgXCJ2YWx1ZVwiOiBcInJvXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiUnVzc2lhblwiLCBcInZhbHVlXCI6IFwicnVcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJTYW1vYW5cIiwgXCJ2YWx1ZVwiOiBcInNtXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiU2NvdHNHYWVsaWNcIiwgXCJ2YWx1ZVwiOiBcImdkXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiU2VyYmlhblwiLCBcInZhbHVlXCI6IFwic3JcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJTZXNvdGhvXCIsIFwidmFsdWVcIjogXCJzdFwiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIlNob25hXCIsIFwidmFsdWVcIjogXCJzblwiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIlNpbmRoaVwiLCBcInZhbHVlXCI6IFwic2RcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJTaW5oYWxhXCIsIFwidmFsdWVcIjogXCJzaVwiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIlNsb3Zha1wiLCBcInZhbHVlXCI6IFwic2tcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJTbG92ZW5pYW5cIiwgXCJ2YWx1ZVwiOiBcInNsXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiU29tYWxpXCIsIFwidmFsdWVcIjogXCJzb1wiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIlNwYW5pc2hcIiwgXCJ2YWx1ZVwiOiBcImVzXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiU3VuZGFuZXNlXCIsIFwidmFsdWVcIjogXCJzdVwiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIlN3YWhpbGlcIiwgXCJ2YWx1ZVwiOiBcInN3XCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiU3dlZGlzaFwiLCBcInZhbHVlXCI6IFwic3ZcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJUYWppa1wiLCBcInZhbHVlXCI6IFwidGdcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJUYW1pbFwiLCBcInZhbHVlXCI6IFwidGFcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJUZWx1Z3VcIiwgXCJ2YWx1ZVwiOiBcInRlXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiVGhhaVwiLCBcInZhbHVlXCI6IFwidGhcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJUdXJraXNoXCIsIFwidmFsdWVcIjogXCJ0clwiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIlVrcmFpbmlhblwiLCBcInZhbHVlXCI6IFwidWtcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJVcmR1XCIsIFwidmFsdWVcIjogXCJ1clwiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIlV6YmVrXCIsIFwidmFsdWVcIjogXCJ1elwiIH0sXHJcbiAgICB7IFwibmFtZVwiOiBcIlZpZXRuYW1lc2VcIiwgXCJ2YWx1ZVwiOiBcInZpXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiV2Vsc2hcIiwgXCJ2YWx1ZVwiOiBcImN5XCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiWGhvc2FcIiwgXCJ2YWx1ZVwiOiBcInhoXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiWWlkZGlzaFwiLCBcInZhbHVlXCI6IFwieWlcIiB9LFxyXG4gICAgeyBcIm5hbWVcIjogXCJZb3J1YmFcIiwgXCJ2YWx1ZVwiOiBcInlvXCIgfSxcclxuICAgIHsgXCJuYW1lXCI6IFwiWnVsdVwiLCBcInZhbHVlXCI6IFwienVcIiB9XHJcbl07XHJcbiIsImltcG9ydCB7IHRyYW5zbGF0ZSwgc2hvd1RyYW5zbGF0ZSB9IGZyb20gJy4uL3RyYW5zbGF0ZS5qcyc7XHJcbmltcG9ydCB7IExBTkdVQUdFUyB9IGZyb20gJy4vbGFuZ3VhZ2VzLmpzJztcclxuXHJcbi8qKlxyXG4gKiDliJ3lp4vljJborr7nva7liJfooahcclxuICovXHJcbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgaTE4bkVsZW13bnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImkxOG5cIik7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGkxOG5FbGVtd250cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vIOi3n+maj+a1j+iniOWZqOeahOivreiogOiuvue9ruaYvuekuuWGheWuuVxyXG4gICAgICAgIGkxOG5FbGVtd250c1tpXS5pbnNlcnRBZGphY2VudFRleHQoXCJiZWZvcmVFbmRcIiwgY2hyb21lLmkxOG4uZ2V0TWVzc2FnZShpMThuRWxlbXdudHNbaV0uZ2V0QXR0cmlidXRlKFwiZGF0YS1pMThuLW5hbWVcIikpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDojrflvpfnlKjmiLfkuYvliY3pgInmi6nnmoTor63oqIDnv7vor5HpgInpoblcclxuICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KFwibGFuZ3VhZ2VTZXR0aW5nXCIsIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICB2YXIgbGFuZ3VhZ2VTZXR0aW5nID0gcmVzdWx0Lmxhbmd1YWdlU2V0dGluZztcclxuXHJcbiAgICAgICAgLy8g6I635Y+W5LiL5ouJ5YiX6KGo5YWD57SgXHJcbiAgICAgICAgdmFyIHNvdXJjZUxhbmd1YWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzbFwiKTtcclxuICAgICAgICB2YXIgdGFyZ2V0TGFuZ3VhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRsXCIpO1xyXG4gICAgICAgIC8vIOiOt+WPluS6pOaNouaMiemSrlxyXG4gICAgICAgIHZhciBleGNoYW5nZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXhjaGFuZ2VcIik7XHJcblxyXG4gICAgICAgIC8vIOa3u+WKoOS6pOaNouaMiemSruWvueeCueWHu+S6i+S7tueahOebkeWQrFxyXG4gICAgICAgIGV4Y2hhbmdlQnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChzb3VyY2VMYW5ndWFnZS52YWx1ZSAhPT0gJ2F1dG8nKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGVtcFZhbHVlID0gdGFyZ2V0TGFuZ3VhZ2UudmFsdWU7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRMYW5ndWFnZS52YWx1ZSA9IHNvdXJjZUxhbmd1YWdlLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgc291cmNlTGFuZ3VhZ2UudmFsdWUgPSB0ZW1wVmFsdWU7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVMYW5ndWFnZVNldHRpbmcoc291cmNlTGFuZ3VhZ2UudmFsdWUsIHRhcmdldExhbmd1YWdlLnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gbGFuZ3VhZ2Vz5piv5Y+v6YCJ55qE5rqQ6K+t6KiA5ZKM55uu5qCH6K+t6KiA55qE5YiX6KGoXHJcbiAgICAgICAgTEFOR1VBR0VTLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IGVsZW1lbnQudmFsdWU7XHJcbiAgICAgICAgICAgIGxldCBuYW1lID0gY2hyb21lLmkxOG4uZ2V0TWVzc2FnZShlbGVtZW50Lm5hbWUpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGxhbmd1YWdlU2V0dGluZyAmJiB2YWx1ZSA9PSBsYW5ndWFnZVNldHRpbmcuc2wpIHtcclxuICAgICAgICAgICAgICAgIHNvdXJjZUxhbmd1YWdlLm9wdGlvbnMuYWRkKG5ldyBPcHRpb24obmFtZSwgdmFsdWUsIHRydWUsIHRydWUpKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNvdXJjZUxhbmd1YWdlLm9wdGlvbnMuYWRkKG5ldyBPcHRpb24obmFtZSwgdmFsdWUpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGxhbmd1YWdlU2V0dGluZyAmJiB2YWx1ZSA9PSBsYW5ndWFnZVNldHRpbmcudGwpIHtcclxuICAgICAgICAgICAgICAgIHRhcmdldExhbmd1YWdlLm9wdGlvbnMuYWRkKG5ldyBPcHRpb24obmFtZSwgdmFsdWUsIHRydWUsIHRydWUpKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRhcmdldExhbmd1YWdlLm9wdGlvbnMuYWRkKG5ldyBPcHRpb24obmFtZSwgdmFsdWUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyDlpoLkvZXmupDor63oqIDmmK/oh6rliqjliKTmlq3or63oqIDnsbvlnoso5YC85pivYXV0byks5YiZ5oyJ6ZKu5pi+56S654Gw6Imy77yM6YG/5YWN55So5oi354K55Ye7XHJcbiAgICAgICAganVkZ2VWYWx1ZShleGNoYW5nZUJ1dHRvbiwgc291cmNlTGFuZ3VhZ2UpO1xyXG5cclxuICAgICAgICBzb3VyY2VMYW5ndWFnZS5vbmNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8g5aaC5L2V5rqQ6K+t6KiA5piv6Ieq5Yqo5Yik5pat6K+t6KiA57G75Z6LKOWAvOaYr2F1dG8pLOWImeaMiemSruaYvuekuueBsOiJsu+8jOmBv+WFjeeUqOaIt+eCueWHuyzlpoLmnpzkuI3mmK/vvIzliJnmmL7npLrok53oibLvvIzlj6/ku6Xngrnlh7tcclxuICAgICAgICAgICAganVkZ2VWYWx1ZShleGNoYW5nZUJ1dHRvbiwgc291cmNlTGFuZ3VhZ2UpO1xyXG4gICAgICAgICAgICB1cGRhdGVMYW5ndWFnZVNldHRpbmcoXHJcbiAgICAgICAgICAgICAgICBzb3VyY2VMYW5ndWFnZS5vcHRpb25zW3NvdXJjZUxhbmd1YWdlLnNlbGVjdGVkSW5kZXhdLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0TGFuZ3VhZ2Uub3B0aW9uc1t0YXJnZXRMYW5ndWFnZS5zZWxlY3RlZEluZGV4XS52YWx1ZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRhcmdldExhbmd1YWdlLm9uY2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB1cGRhdGVMYW5ndWFnZVNldHRpbmcoXHJcbiAgICAgICAgICAgICAgICBzb3VyY2VMYW5ndWFnZS5vcHRpb25zW3NvdXJjZUxhbmd1YWdlLnNlbGVjdGVkSW5kZXhdLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0TGFuZ3VhZ2Uub3B0aW9uc1t0YXJnZXRMYW5ndWFnZS5zZWxlY3RlZEluZGV4XS52YWx1ZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICog5aaC5p6c5rqQ6K+t6KiA5piv6Ieq5Yqo5Yik5pat6K+t6KiA57G75Z6LKOWAvOaYr2F1dG8pLOWImeaMiemSruaYvuekuueBsOiJsu+8jOmBv+WFjeeUqOaIt+eCueWHu1xyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0geypIVE1MRWxlbWVudH0gZXhjaGFuZ2VCdXR0b24g54m55a6a55qE5LiA5LiqZWxlbWVudCzmmK/kuIDkuKrkuqTmjaLmjInpkq7lm75cclxuICAgICAqIEBwYXJhbSB7KkhUTUxFbGVtZW50fSBzb3VyY2VMYW5ndWFnZSDnibnlrprnmoTkuIDkuKplbGVtZW50LOa6kOivreiogOeahOmAiemhuVxyXG4gICAgICovXHJcbiAgICB2YXIganVkZ2VWYWx1ZSA9IGZ1bmN0aW9uIChleGNoYW5nZUJ1dHRvbiwgc291cmNlTGFuZ3VhZ2UpIHtcclxuICAgICAgICBpZiAoc291cmNlTGFuZ3VhZ2UudmFsdWUgPT09ICdhdXRvJylcclxuICAgICAgICAgICAgZXhjaGFuZ2VCdXR0b24uc3R5bGUuY29sb3IgPSAnZ3JheSc7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBleGNoYW5nZUJ1dHRvbi5zdHlsZS5jb2xvciA9ICcjNGE4Y2Y3JztcclxuICAgIH1cclxuXHJcbiAgICAvLyDnu5/kuIDmt7vliqDkuovku7bnm5HlkKxcclxuICAgIGFkZEV2ZW50TGlzdGVuZXIoKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiDkv53lrZjnv7vor5Hor63oqIDorr7lrppcclxuICogXHJcbiAqIEBwYXJhbSB7Kn0gc291cmNlTGFuZ3VhZ2Ug5rqQ6K+t6KiAXHJcbiAqIEBwYXJhbSB7Kn0gdGFyZ2V0TGFuZ3VhZ2Ug55uu5qCH6K+t6KiAXHJcbiAqL1xyXG5mdW5jdGlvbiB1cGRhdGVMYW5ndWFnZVNldHRpbmcoc291cmNlTGFuZ3VhZ2UsIHRhcmdldExhbmd1YWdlKSB7XHJcbiAgICBzYXZlT3B0aW9uKFwibGFuZ3VhZ2VTZXR0aW5nXCIsIHsgXCJzbFwiOiBzb3VyY2VMYW5ndWFnZSwgXCJ0bFwiOiB0YXJnZXRMYW5ndWFnZSB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOS/neWtmOS4gOadoeiuvue9rumhuVxyXG4gKiBcclxuICogQHBhcmFtIHsqfSBrZXkg6K6+572u6aG55ZCNXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUg6K6+572u6aG5XHJcbiAqL1xyXG5mdW5jdGlvbiBzYXZlT3B0aW9uKGtleSwgdmFsdWUpIHtcclxuICAgIHZhciBpdGVtID0ge307XHJcbiAgICBpdGVtW2tleV0gPSB2YWx1ZTtcclxuICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KGl0ZW0pO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIOmcgOimgeWvuemhtemdouS4reeahOWFg+e0oOa3u+WKoOS6i+S7tuebkeWQrOaXtu+8jOivt+WcqOatpOWHveaVsOS4rea3u+WKoFxyXG4gKi9cclxuZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcigpIHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0cmFuc2xhdGVTdWJtaXQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRyYW5zbGF0ZVN1Ym1pdCk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIHRyYW5zbGF0ZVByZVN1Ym1pdCk7ICAvLyDlr7nnlKjmiLfmjInkuIvlm57ovabmjInplK7lkI7nmoTkuovku7bov5vooYznm5HlkKxcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXR0aW5nLXN3aXRjaCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2V0dGluZ1N3aXRjaCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBibG9jayBzdGFydFxyXG4gKiDkuovku7bnm5HlkKznmoTlm57osIPlh73mlbDlrprkuYnor7flnKjmraTljLrln5/kuK3ov5tcclxuICovXHJcblxyXG4vKipcclxuICog6LSf6LSj5Zyob3B0aW9u6aG16Z2i5Lit6L6T5YWl5YaF5a655ZCO6L+b6KGM57+76K+RXHJcbiAqL1xyXG5mdW5jdGlvbiB0cmFuc2xhdGVTdWJtaXQoKSB7XHJcbiAgICB2YXIgY29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0cmFuc2xhdGVfaW5wdXQnKS52YWx1ZTtcclxuICAgIGlmIChjb250ZW50LnJlcGxhY2UoL1xccyovLCAnJykgIT09ICcnKSB7IC8vIOWIpOaWreWAvOaYr+WQpuS4ulxyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaW50X21lc3NhZ2UnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIHZhciByZXN1bHQgPSB0cmFuc2xhdGUoY29udGVudCwgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICBzaG93VHJhbnNsYXRlKHJlc3VsdCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmNsb3NlKCk7IC8vIOWxleekuue7k+adn+WQjuWFs+mXrW9wdGlvbumhtemdolxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2UgIC8vIOaPkOekuui+k+WFpeeahOWGheWuueaYr1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaW50X21lc3NhZ2UnKS5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZSc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDotJ/otKPlnKhvcHRpb27kuK3pmpDol4/miJbmmL7npLrorr7nva7pgInpoblcclxuICovXHJcbmZ1bmN0aW9uIHNldHRpbmdTd2l0Y2goKSB7XHJcbiAgICB2YXIgc2V0dGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXR0aW5nJyk7XHJcbiAgICB2YXIgYXJyb3dVcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcnJvdy11cCcpO1xyXG4gICAgdmFyIGFycm93RG93biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcnJvdy1kb3duJyk7XHJcbiAgICBpZiAoIXNldHRpbmcuc3R5bGUuZGlzcGxheSB8fCBzZXR0aW5nLnN0eWxlLmRpc3BsYXkgPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgc2V0dGluZy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICBhcnJvd0Rvd24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBhcnJvd1VwLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lJztcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHNldHRpbmcuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBhcnJvd0Rvd24uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUnO1xyXG4gICAgICAgIGFycm93VXAuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOWIpOaWreWmguaenOaMieS4i+eahOaYr+aMiemSruaYr2VudGVy6ZSu77yM5bCx6LCD55So57+76K+R55qE5Ye95pWwXHJcbiAqL1xyXG5mdW5jdGlvbiB0cmFuc2xhdGVQcmVTdWJtaXQoZXZlbnQpIHtcclxuICAgIHZhciBpbnRfa2V5Y29kZSA9IGV2ZW50LmNoYXJDb2RlIHx8IGV2ZW50LmtleUNvZGU7XHJcbiAgICBpZiAoaW50X2tleWNvZGUgPT0gJzEzJykge1xyXG4gICAgICAgIHRyYW5zbGF0ZVN1Ym1pdCgpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBlbmQgYmxvY2tcclxuICovIl0sInNvdXJjZVJvb3QiOiIifQ==